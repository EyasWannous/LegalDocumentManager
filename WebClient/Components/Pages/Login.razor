@page "/login"
@rendermode InteractiveServer

@using Microsoft.AspNetCore.Components.Authorization

@inject ApiService ApiService
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthenticationStateProvider

<h3 class="text-center text-primary my-4">Login</h3>

<EditForm Model="@loginModel" OnValidSubmit="HandleLogin" class="mx-auto p-4 bg-light shadow rounded" style="max-width: 400px;">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label class="form-label">National Number</label>
        <InputText class="form-control" @bind-Value="loginModel.NationalNumber" />
    </div>
    <div class="mb-3">
        <label class="form-label">Password</label>
        <InputText class="form-control" type="password" @bind-Value="loginModel.Password" />
    </div>
    <div class="form-check mb-3">
        <InputCheckbox class="form-check-input" @bind-Value="loginModel.RememberMe" />
        <label class="form-check-label">Remember Me</label>
    </div>
    <button type="submit" class="btn btn-primary w-100">Login</button>
</EditForm>

@if (!string.IsNullOrEmpty(ErrorMessage))
{
    <div class="alert alert-danger">@ErrorMessage</div>
}
